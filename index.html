<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine? ðŸ’–</title>
<style>
* { box-sizing: border-box; margin:0; padding:0; }

body {
  height: 100vh;
  overflow: hidden;
  background: #2e2e2e;
  font-family: 'Impact', sans-serif;
  transition: background 0.3s linear, opacity 1.5s ease;
  opacity: 0;
  cursor: none; /* Hide default cursor */
}

.card {
  position: absolute;
  top:50%;
  left:50%;
  transform: translate(-50%, -50%);
  background: rgba(255,255,255,0.85);
  padding: 40px 50px;
  border-radius:20px;
  text-align:center;
  box-shadow: 0 20px 60px rgba(0,0,0,0.4), 0 0 15px rgba(255, 0, 150, 0.2);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  z-index: 10; /* above hearts */
}


h1 {
  color:#2e2e2e;
  margin-bottom:30px;
  font-weight:700;
  letter-spacing:-0.3px;
}

button {
  padding: 15px 30px;
  font-size: 18px;
  border: none;
  border-radius: 30px;
  cursor: none; /* Hide default cursor */
  box-shadow: 0 8px 20px rgba(0,0,0,0.35);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 25px rgba(0,0,0,0.45);
}

#yes {
  background-color: #38b000;
  color: white;
  font-family: 'Impact', sans-serif;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  position: fixed;
  top: 51%;
  left: 50%;
  transform: translate(-130px, 40px);
  border-radius: 30px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

#yes:hover {
  box-shadow: 0 0 20px rgba(20,30,0,0.7), 0 0 50px rgba(56,176,0,0.6);
}

#no {
  background-color:#e63946;
  color:white;
  font-family: 'Impact', sans-serif;
  display:inline-flex;
  align-items: center;
  justify-content: center;
  position: fixed;
  white-space: nowrap;
  min-width: max-content;
  z-index: 9999;
  transform-origin: center;
  transition: transform 0.1s ease, box-shadow 0.2s ease;
}

#no:hover {
  box-shadow: 0 0 25px rgba(100,0,0,0.9), 0 0 60px rgba(230,57,70,0.8);
}

#countdown, #message {
  position: fixed; top:50%; left:50%; transform: translate(-50%,-50%);
  font-family: 'Impact', sans-serif;
  text-align:center;
  z-index:9999;
  pointer-events:none;
}

#countdown { font-size:150px; color:#ffcc00; display:none; text-shadow:0 0 30px #ff0000,0 0 50px #ff0000,0 0 70px #000;}
#message { font-size:48px; color:white; opacity:0; transition:opacity 1s ease; }

.emoji-heart {
  position: fixed;
  opacity: 0.8;
  pointer-events: none;
  z-index: 1;
  animation: floatUp linear forwards;
}

@keyframes floatUp {
  0% { transform: translateY(100vh) scale(0.7); }
  100% { transform: translateY(-100px) scale(1.2); }
}

#custom-cursor {
  position: fixed;
  pointer-events: none;
  font-size: 32px;
  transform: translate(-50%, -50%);
  z-index: 99999;
}

/* --- Responsive tweaks --- */
@media (max-width: 768px) {
  .card {
    width: 90%;
    padding: 30px 20px;
    font-size: 1.2rem;
  }

  h1 {
    font-size: 1.5rem;
    margin-bottom: 20px;
  }

  button {
    padding: 12px 20px;
    font-size: 16px;
  }

  #yes {
    transform: translate(-50%, 30px); /* center better on small screens */
  }

  #no {
    transform: translate(-50%, 80px);
  }

  #countdown {
    font-size: 80px;
  }

  #message {
    font-size: 28px;
  }

  #custom-cursor {
    font-size: 24px;
  }
}

@media (max-width: 480px) {
  .card {
    padding: 20px 15px;
  }

  h1 {
    font-size: 1.2rem;
  }

  button {
    padding: 10px 15px;
    font-size: 14px;
  }

  #countdown {
    font-size: 50px;
  }

  #message {
    font-size: 22px;
  }

  #custom-cursor {
    font-size: 20px;
  }
}
</style>
</head>
<body>

<div class="card">
  <h1>WILL YOU BE MY VALENTINE? ðŸ’•</h1>
</div>

<button id="yes">YES ðŸ’–</button>
<button id="no">NO ðŸ’”</button>
<div id="countdown">5</div>
<div id="message">Wrong option. I could do this all day! ðŸ˜‰</div>

<div id="custom-cursor">ðŸ’˜</div>

<script>
// ---------------- Fade in ----------------
window.addEventListener('load',()=>{ document.body.style.opacity='1'; });

// ---------------- Heart animation ----------------
const heartEmojis=["â¤ï¸","ðŸ’–","ðŸ’˜","ðŸ’•","ðŸ’š","ðŸ’“","ðŸ§¡","â¤ï¸â€ðŸ”¥","â¤ï¸â€ðŸ©¹"];
function createHeart(){
  const heart=document.createElement('div');
  heart.classList.add('emoji-heart');
  heart.textContent=heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
  heart.style.left=Math.random()*100+'vw';
  heart.style.fontSize=(30+Math.random()*20)+'px';
  heart.style.animationDuration=(4+Math.random()*4)+'s';
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),8000);
}
const heartInterval=setInterval(createHeart,400);

// ---------------- NO button dodge (desktop only) ----------------
const noBtn=document.getElementById("no");

if (!('ontouchstart' in window)) {
  let x = window.innerWidth/2 + 10;
  let y = window.innerHeight/2 + 48;
  let vx = 0, vy = 0;
  const repelRadius=220, stiffness=0.015, damping=0.82;

  function animate(){
    vx*=damping; vy*=damping;
    x+=vx; y+=vy;
    const rect=noBtn.getBoundingClientRect();
    const maxX = window.innerWidth - rect.width;
    const maxY = window.innerHeight - rect.height;
    if(x<0){x=0;vx*=-0.4;} if(x>maxX){x=maxX;vx*=-0.4;}
    if(y<0){y=0;vy*=-0.4;} if(y>maxY){y=maxY;vy*=-0.4;}
    noBtn.style.left=x+'px';
    noBtn.style.top=y+'px';
    requestAnimationFrame(animate);
  }

  document.addEventListener("mousemove", e=>{
    const rect=noBtn.getBoundingClientRect();
    const cx=rect.left+rect.width/2;
    const cy=rect.top+rect.height/2;
    const dx=cx-e.clientX, dy=cy-e.clientY, dist=Math.hypot(dx,dy)||1;
    if(dist<repelRadius){
      const force=(1-dist/repelRadius);
      vx+=dx/dist*force*stiffness*1000;
      vy+=dy/dist*force*stiffness*1000;
    }
  });
  animate();
}

// ---------------- Sounds ----------------
const heartbeat = new Audio("https://freesound.org/data/previews/426/426997_5121236-lq.mp3"); // heartbeat
heartbeat.loop = true;
const clickSound = new Audio("https://freesound.org/data/previews/256/256113_3263906-lq.mp3"); // retro click

const yesMusic = new Audio(
  "https://jvsanshu.github.io/bosslady/Prema-Oh-Ayudham-MassTamilan.dev.mp3"
);
yesMusic.loop = true;
yesMusic.volume = 0.6;
yesMusic.preload = "auto";

const yesBtn=document.getElementById("yes");
yesBtn.addEventListener("mouseenter", ()=> heartbeat.play());
yesBtn.addEventListener("mouseleave", ()=> heartbeat.pause());
yesBtn.addEventListener("click", ()=> clickSound.play());
noBtn.addEventListener("click", ()=> clickSound.play());

// ---------------- YES click ----------------
function yesClicked(){
  heartbeat.pause();
  heartbeat.currentTime = 0;

  yesMusic.currentTime = 0;
  yesMusic.play();

  heartbeat.pause();
  clearInterval(heartInterval);
  document.querySelectorAll('.emoji-heart').forEach(h=>h.remove());
  document.querySelector('.card').style.display='none';
  noBtn.style.display='none';
  yesBtn.style.display='none';
  document.body.style.background='#ff6b6b';

  for(let i=0;i<100;i++){
    const c = document.createElement('div');
    c.textContent = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
    c.style.position='fixed';
    c.style.left='50%';
    c.style.top='50%';
    c.style.fontSize=(15+Math.random()*25)+'px';
    c.style.opacity=1;
    c.style.pointerEvents='none';
    c.style.transition='transform 2s ease, opacity 2s ease';
    document.body.appendChild(c);
    const dx=(Math.random()-0.5)*window.innerWidth*2;
    const dy=(Math.random()-0.5)*window.innerHeight*2;
    requestAnimationFrame(()=> {
      c.style.transform=`translate(${dx}px, ${dy}px) rotate(${Math.random()*360}deg)`;
      c.style.opacity=0;
    });
    setTimeout(()=>c.remove(),2000);
  }

  const msg=document.createElement('div');
  msg.style.position='fixed';
  msg.style.top='50%'; msg.style.left='50%';
  msg.style.transform='translate(-50%,-50%)';
  msg.style.fontSize='70px';
  msg.style.fontFamily='Impact, sans-serif';
  msg.style.color='#fff';
  msg.style.textAlign='center';
  msg.style.opacity='0';
  msg.style.transition='opacity 2s ease';
  msg.style.zIndex='9999';
  msg.innerHTML='BEST. DECISION. EVER.<br>Thanks for choosing to be my valentine, Chilu!!! ðŸ¥°';
  document.body.appendChild(msg);
  setTimeout(()=>{ msg.style.opacity='1'; },500);
}
yesBtn.onclick = yesClicked;

// ---------------- NO countdown ----------------
noBtn.addEventListener("click", ()=>{
  heartbeat.pause();
  clickSound.play();
  clearInterval(heartInterval);
  document.querySelectorAll('.emoji-heart').forEach(h=>h.remove());

  yesBtn.style.display = "none";
  noBtn.style.display = "none";
  document.querySelector(".card").style.opacity='0';

  const countdown = document.getElementById("countdown");
  const message = document.getElementById("message");
  const body = document.body;

  countdown.style.display='block';
  countdown.style.opacity='1';

  let timer = 5;
  countdown.textContent = timer;

  const beepCtx = new (window.AudioContext || window.webkitAudioContext)();

  function beep(){
    const now = beepCtx.currentTime;
    const osc = beepCtx.createOscillator();
    const gain = beepCtx.createGain();

    osc.type = "square";
    osc.frequency.setValueAtTime(500, now);
    gain.gain.setValueAtTime(0.1, now);

    osc.connect(gain);
    gain.connect(beepCtx.destination);

    osc.start(now);
    osc.stop(now + 0.2);
  }

  beep();

  const beepInterval = setInterval(beep, 1000);

  const flashInterval = setInterval(()=>{
    body.style.background = Math.random() < 0.5 ? "#ff0000" : "#0000ff";
  },200);

  const countdownInterval = setInterval(()=>{
    timer--;
    countdown.textContent = timer;

    if(timer <= 0){
  clearInterval(countdownInterval);
  clearInterval(beepInterval);
  clearInterval(flashInterval);

  countdown.style.transition='opacity 0.7s ease';
  countdown.style.opacity='0';

  let start = Date.now();
  const shakeInterval = setInterval(()=>{
    body.style.transform =
      `translate(${(Math.random()-0.5)*50}px, ${(Math.random()-0.5)*50}px)`;

    if(Date.now() - start > 700){
      clearInterval(shakeInterval);
      body.style.transform='';

      body.style.background = "#2e2e2e"; // final background
      countdown.style.display = "none";   // hide countdown
      message.style.opacity = "1";         // show message

      setTimeout(()=>{
        message.style.opacity='0';
        setTimeout(()=> location.reload(),500);
      },2000);
    }
  },16);
}
  },1000);
});

// ---------------- Custom cursor ----------------
const customCursor = document.getElementById("custom-cursor");
document.addEventListener("mousemove", e => {
  customCursor.style.left = e.clientX + "px";
  customCursor.style.top = e.clientY + "px";
});
</script>
</body>
</html>
